---
title: Java中的封装、继承与多态
layout: post
date: 2016-01-15 15:43:20
comments: true
tags: [Java]
categories: [Java]
keywords: Java
description: 
---

> 这次我们来了解一下面向对象的三大基石**封装，继承、多态**，然后大致对比一下继承和多态的区别。


## **一、封装：**

　　封装是实现面向对象程序设计的第一步，封装就是将数据或函数等集合在一个个的单元中（我们称之为类）。被封装的对象通常被称为抽象数据类型。 

 封装的意义：
　　封装的意义在于保护或者防止代码（数据）被我们无意中破坏。在面向对象程序设计中数据被看作是一个中心的元素并且和使用它的函数结合的很密切，从而保护它不被其它的函数意外的修改。封装提供了一个有效的途径来保护数据不被意外的破坏。相比我们将数据（用域来实现）在程序中定义为公用的（public）我们将它们(fields)定义为私有的（privat）在很多方面会更好。


<!--more-->
　　
　　Java有四种访问权限，其中三种有访问权限修饰符，分别为private，public和protected，还有一种不带任何修饰符：

 1. **private:** Java语言中对访问权限限制的最窄的修饰符，一般称之为“私有的”。被其修饰的类、属性以及方法只能被该类的对象访问，其子类不能访问，更不能允许跨包访问。
 2. **default：**即不加任何访问修饰符，通常称为“默认访问模式“。该模式下，只允许在同一个包中进行访问。
 3. **protect:** 介于public 和 private 之间的一种访问修饰符，一般称之为“保护形”。被其修饰的类、属性以及方法只能被类本身的方法及子类访问，即使子类在不同的包中也可以访问。
 4. **public：** Java语言中访问限制最宽的修饰符，一般称之为“公共的”。被其修饰的类、属性以及方法不仅可以跨类访问，而且允许跨包（package）访问。

下面用表格的形式来展示四种访问权限之间的异同点，这样会更加形象。注意其中protected和default的区别，表格如下所示：

> | 权限修饰符| 同一个类| 同一个包| 不同包的子类| 不同包的非子类|
|:-----:|:----:| :----:|:----:|:----:|
| Private   | √    | 
| Default    | √    |  √   | 
| Protected| √    |   √  |  √  |
| Public    | √   |   √  |  √  |  √  |


----------

## **二、继承**

　　通过继承可以实现代码的复用，使子类可以拥有父类的一些属性和方法。继承应该符合下列规则：

 1. **继承是可传递的**。如果C从B中派生，B又从A中派生，那么C不仅继承了B中声明的成员，同样也继承了A中的成员。Object类作为所有类的基类。
 2. **派生类应当是对基类的扩展**。派生类可以添加新的成员，但不能除去已经继承的成员的定义。
构造函数和析构函数不能被继承。除此之外的其它成员，不论对它们定义了怎样的访问方式，都能被继承。基类中成员的访问方式只能决定派生类能否访问它们。
 3. **派生类如果定义了与继承而来的成员同名的新成员**，就可以覆盖已继承的成员。但这并不因为这派生类删除了这些成员，只是不能再访问这些成员。
 4. 类可以定义为abstract抽象类，它的派生类就能够重载这些成员，从而实现类可以展示出多态性。

----------

## **三、多态**

　　多态就是指父类的某个方法被子类重写时，可以各自产生自己的功能行为。同一操作作用于不同的对象，可以有不同的解释，产生不同的执行结果。就是父类引用可以持有子类对象。这时候只能调用父类中的方法，而子类中特有方法是无法访问的，因为这个时候（编译时）你把他看作父类对象的原因，但是到了运行的时候，编译器就会发现这个父类引用中原来是一个子类的对像，所以如果父类和子类中有相同的方法时，调用的会是子类中的方法，而不是父类的。
　　
可以这么说：***编译时看父类，运行时看子类***。运行时的多态性就是指直到系统运行时，才根据实际情况决定实现何种操作。C#中，运行时的多态性通过虚成员实现。

> 父类A a = new 父类的子类B();
a.方法();
//这就是多态

　
　　实现多态的方式：

 - 接口多态性。
 - 继承多态性。
 - 通过抽象类实现的多态性。


----------

## **四、继承与多态的区别**

　　网上看到一个有趣的说法是：继承是子类使用父类的方法，而多态则是父类使用子类的方法。

　　继承，子类继承父类中所以的属性和方法，但是对于private的属相和方法，由于这个是父类的隐私，所以子类虽然是继承了，但是没有可以访问这些属性和方法的引用，所以相当于没有继承到。很多时候，可以理解为，没有继承。

　　多态：就是父类引用可以持有子类对象。这时候只能调用父类中的方法，而子类中特有方法是无法访问的，因为这个时候（编译时）你把他看作父类对象的原因，但是到了运行的时候，编译器就会发现这个父类引用中原来是一个子类的对像，所以如果父类和子类中有相同的方法时，调用的会是子类中的方法，而不是父类的。可以这么说：编译时看父类，运行时看子类。





----------


【参考资料】：
1、[java类的访问权限](http://www.cnblogs.com/xwdreamer/archive/2012/04/06/2434483.html)
2、[继承、封装、多态](http://www.cnblogs.com/mountain-mist/articles/1214996.html)
3、[java中继承和多态区别.](http://zhidao.baidu.com/link?url=vq9iXiuvs-_u4FQP4QEd0JA3sUDLO7Azec3I0FRyyVb4UUcssjpHeBb3i8MsCHujCVhMiJSI8FFmoE8Mpsibxa)
4、[重载，继承，重写和多态的区别](http://www.cnblogs.com/yhason/archive/2012/06/07/2540743.html)