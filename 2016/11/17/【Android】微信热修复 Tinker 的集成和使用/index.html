<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  
  <title>【Android】微信热修复 Tinker 的集成和使用 | iTime</title>
  <meta name="description" content="{{theme.description}}" />
  <meta name="keywords" content="{{theme.keywords}}" />
  <meta name="HandheldFriendly" content="True" />
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="简介 Tinker： n.   〈英〉小炉匠，补锅匠，修补匠
Tinker 是微信官方开源的 Android 热修复框架，支持在无需升级APK的前提下更新 dex, library and resources 文件。它也就是今年9月24才刚刚开源，几天功夫star数就超过3000，可见在开发者中的影响力有多大，也说明这是一个刚需。
Tinker GitHub: https://github.com">
<meta property="og:type" content="article">
<meta property="og:title" content="【Android】微信热修复 Tinker 的集成和使用">
<meta property="og:url" content="http://github.com/2016/11/17/【Android】微信热修复 Tinker 的集成和使用/index.html">
<meta property="og:site_name" content="iTime">
<meta property="og:description" content="简介 Tinker： n.   〈英〉小炉匠，补锅匠，修补匠
Tinker 是微信官方开源的 Android 热修复框架，支持在无需升级APK的前提下更新 dex, library and resources 文件。它也就是今年9月24才刚刚开源，几天功夫star数就超过3000，可见在开发者中的影响力有多大，也说明这是一个刚需。
Tinker GitHub: https://github.com">
<meta property="og:image" content="http://github.com/gallery/tinker.jpg">
<meta property="og:updated_time" content="2016-11-17T06:02:18.571Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="【Android】微信热修复 Tinker 的集成和使用">
<meta name="twitter:description" content="简介 Tinker： n.   〈英〉小炉匠，补锅匠，修补匠
Tinker 是微信官方开源的 Android 热修复框架，支持在无需升级APK的前提下更新 dex, library and resources 文件。它也就是今年9月24才刚刚开源，几天功夫star数就超过3000，可见在开发者中的影响力有多大，也说明这是一个刚需。
Tinker GitHub: https://github.com">
<meta name="twitter:image" content="http://github.com/gallery/tinker.jpg">
  
  
    <link rel="icon" href="/favicon.png">
  
  
	<script src="https://use.typekit.net/eyf3hir.js"></script>
  <script>try{Typekit.load({ async: false });}catch(e){}</script>
  <link rel="stylesheet" href="../../../../style.css">
  <script>
    function setLoadingBarProgress(num) {
      document.getElementById('loading-bar').style.width=num+"%";
    }
  </script>
</head>

<body>
  
  <div id="loading-bar-wrapper">
  <div id="loading-bar"></div>
</div>

  <script>setLoadingBarProgress(20)</script>
  
  <div id="site-wrapper">
    
    <header id="header">
	<div id="header-wrapper" class="clearfix">
		<a id="logo" href="/">
			<img src="/images/logo.png" />
			<span id="site-desc">
			  otaku keeps alive
      </span>
		</a>
		<button id="site-nav-switch">
	    <span class="icon icon-menu"></span>
	  </button>
	</div>
	<aside id="site-menu">
  	<nav>
  		
        <a href="/" class="nav-home nav">
          Home
        </a>
      
        <a href="/about" class="nav-about nav">
          About
        </a>
      
        <a href="/archives" class="nav-archives nav">
          Archives
        </a>
      
    </nav>
	</aside>
</header>
    <script>setLoadingBarProgress(40);</script>
    
    <main id="main" role="main">
      <article id="post-【Android】微信热修复 Tinker 的集成和使用"
  class="post article white-box article-type-post"
  itemscope itemprop="blogPost">
	<h2 class="title">
  	<a href="">
    	【Android】微信热修复 Tinker 的集成和使用
    </a>
  </h2>
	<time>
	  Nov 17, 2016
	</time>
	<section class="content">
  	<div class="article-entry" itemprop="articleBody">
    	<h2 id="简介"><a href="#简介" class="headerlink" title="简介"></a><strong>简介</strong></h2><p> <strong><code>Tinker</code></strong>： n.   〈英〉小炉匠，补锅匠，修补匠</p>
<p><a href="https://github.com/Tencent/tinker"><strong>Tinker</strong></a> 是微信官方开源的 Android 热修复框架，支持在无需升级APK的前提下更新 <code>dex</code>, <code>library</code> and <code>resources</code> 文件。它也就是今年9月24才刚刚开源，几天功夫star数就超过3000，可见在开发者中的影响力有多大，也说明这是一个刚需。</p>
<p>Tinker GitHub: <a href="https://github.com/Tencent/tinker">https://github.com/Tencent/tinker</a></p>
<h2 id="使用步骤"><a href="#使用步骤" class="headerlink" title="使用步骤"></a><strong>使用步骤</strong></h2><h3 id="一个小坑"><a href="#一个小坑" class="headerlink" title="一个小坑"></a>一个小坑</h3><p>很多人遇到的第一个错误就是提示 <code>tinkerId is not set</code> ，这个在tinker-sample-android的<code>app/build.gradle</code> 中默认设置为Git的提交版本号，如下</p>
<figure class="highlight groovy"><table><tr><td class="code"><pre><div class="line"><span class="keyword">def</span> getTinkerIdValue() &#123;</div><div class="line">    <span class="keyword">return</span> hasProperty(<span class="string">"TINKER_ID"</span>) ? TINKER_ID : gitSha()</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>如果不是通过git clone方式下载的就可能出现这个错误，其实可以简单粗暴的方式解决，那就是在app/build.gradle中把tinker id写死：</p>
<figure class="highlight groovy"><table><tr><td class="code"><pre><div class="line"><span class="keyword">def</span> getTinkerIdValue() &#123;</div><div class="line">    <span class="keyword">return</span> hasProperty(<span class="string">"TINKER_ID"</span>) ? TINKER_ID : <span class="string">"tinker_id_2333"</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>下面介绍一下如何一步步的把Tinker集成到自己的项目中，以及会遇到哪些问题该如何解决。</p>
<a id="more"></a>
<h3 id="一、工程根目录的build-gradle中添加依赖"><a href="#一、工程根目录的build-gradle中添加依赖" class="headerlink" title="一、工程根目录的build.gradle中添加依赖"></a><strong>一、工程根目录的build.gradle中添加依赖</strong></h3><p>在项目的build.gradle中，添加<code>tinker-patch-gradle-plugin</code>的依赖</p>
<figure class="highlight groovy"><table><tr><td class="code"><pre><div class="line">buildscript &#123;</div><div class="line">    dependencies &#123;</div><div class="line">        classpath (<span class="string">'com.tencent.tinker:tinker-patch-gradle-plugin:1.7.3'</span>)</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>此时如果gradle Sync不成功可能是因为没有加入 <strong>jcenter仓库</strong></p>
<figure class="highlight groovy"><table><tr><td class="code"><pre><div class="line">buildscript &#123;</div><div class="line">    repositories &#123;</div><div class="line">        mavenLocal()</div><div class="line">        jcenter()    <span class="comment">//注意这里，因为maven仓库里没有</span></div><div class="line">    &#125;</div><div class="line">    dependencies &#123;</div><div class="line">        classpath <span class="string">'com.android.tools.build:gradle:2.2.2'</span></div><div class="line">        classpath <span class="string">"com.tencent.tinker:tinker-patch-gradle-plugin:$&#123;TINKER_VERSION&#125;"</span></div><div class="line">    &#125;</div><div class="line">    <span class="comment">// default values for all sub projects</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="二、在app-build-gradle中的dependencies节点添加依赖"><a href="#二、在app-build-gradle中的dependencies节点添加依赖" class="headerlink" title="二、在app/build.gradle中的dependencies节点添加依赖"></a><strong>二、在app/build.gradle中的dependencies节点添加依赖</strong></h3><figure class="highlight groovy"><table><tr><td class="code"><pre><div class="line">dependencies &#123;</div><div class="line">    <span class="comment">//可选，用于生成application类 </span></div><div class="line">    provided(<span class="string">'com.tencent.tinker:tinker-android-anno:1.7.3'</span>)</div><div class="line">    <span class="comment">//tinker的核心库</span></div><div class="line">    compile(<span class="string">'com.tencent.tinker:tinker-android-lib:1.7.3'</span>) </div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="三、复制官方sample工程app-build-gradle中的其他相关配置"><a href="#三、复制官方sample工程app-build-gradle中的其他相关配置" class="headerlink" title="三、复制官方sample工程app/build.gradle中的其他相关配置"></a><strong>三、复制官方sample工程app/build.gradle中的其他相关配置</strong></h3><p>把官方 tinker-sample-android 工程中的<code>app/build.gradle</code>复制到自己的app/build.gradle中，特别是最下面的task 代码块，否则无法生成patch。</p>
<h3 id="四、替换自己的Application类"><a href="#四、替换自己的Application类" class="headerlink" title="四、替换自己的Application类"></a><strong>四、替换自己的Application类</strong></h3><p>这一块需要特殊说明一下，tinker为了达到修改应用自己的Application的目的，使用代码框架封装继承<code>DefaultApplicationLike</code>的方式来实现对Application的修改，主要为了减少反射的使用和提高兼容性，具体说明参考 <a href="https://github.com/Tencent/tinker/wiki/Tinker-%E8%87%AA%E5%AE%9A%E4%B9%89%E6%89%A9%E5%B1%95"><strong>Tinker Wiki：自定义Application类</strong></a>。</p>
<blockquote>
<p>在替换更改之前，强烈建议先把项目中的Application类做个备份。因为需要采用Annotation自动生成Application，<strong>原来的Application类需要删掉</strong>。</p>
</blockquote>
<p>然后我们修改项目的 Application ，使之继承<code>DefaultApplicationLike</code>; 这块的确有点奇葩,这个<code>DefaultApplicationLike</code>不是继承自Application，需要用注解来设置项目中真正的Application，<strong>Tinker插件会自动生成真正的Application</strong>。</p>
<figure class="highlight java"><table><tr><td class="code"><pre><div class="line"><span class="meta">@DefaultLifeCycle</span>(application = <span class="string">"com.cuc.android.aps.MyApplication"</span>,<span class="comment">//通过注解，由tinker自动生成MyApplication</span></div><div class="line">        flags = ShareConstants.TINKER_ENABLE_ALL,                 <span class="comment">//tinkerFlags</span></div><div class="line">        loaderClass = <span class="string">"com.tencent.tinker.loader.TinkerLoader"</span>,   <span class="comment">//loaderClassName, 我们这里使用默认</span></div><div class="line">        loadVerifyFlag = <span class="keyword">false</span>)</div><div class="line">        </div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ApplicationFromTinkerLike</span> <span class="keyword">extends</span> <span class="title">DefaultApplicationLike</span> </span>&#123;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="title">ApplicationFromTinkerLike</span><span class="params">(Application application, <span class="keyword">int</span> tinkerFlags, <span class="keyword">boolean</span> tinkerLoadVerifyFlag, <span class="keyword">long</span> applicationStartElapsedTime, <span class="keyword">long</span> applicationStartMillisTime, Intent tinkerResultIntent, Resources[] resources, ClassLoader[] classLoader, AssetManager[] assetManager)</span> </span>&#123;</div><div class="line">        <span class="keyword">super</span>(application, tinkerFlags, tinkerLoadVerifyFlag, applicationStartElapsedTime, applicationStartMillisTime, tinkerResultIntent, resources, classLoader, assetManager);</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>上边的<strong><code>com.cuc.android.aps.MyApplication</code></strong>就是真正的Application,不用我们自己写,是自动生成的。然后修改manifest.xml将application指向<code>com.cuc.android.aps.MyApplication</code>就行，开始会报错，build一下项目就好了。</p>
<h3 id="五、在刚改好的-ApplicationFromTinkerLike-中重载onBaseContextAttached方法"><a href="#五、在刚改好的-ApplicationFromTinkerLike-中重载onBaseContextAttached方法" class="headerlink" title="五、在刚改好的 ApplicationFromTinkerLike 中重载onBaseContextAttached方法"></a><strong>五、在刚改好的 ApplicationFromTinkerLike 中重载onBaseContextAttached方法</strong></h3><p>并在该方法中增加以下代码调用初始化tinker</p>
<figure class="highlight java"><table><tr><td class="code"><pre><div class="line"><span class="meta">@Override</span></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onBaseContextAttached</span><span class="params">(Context base)</span> </span>&#123;</div><div class="line">        <span class="keyword">super</span>.onBaseContextAttached(base);</div><div class="line">        </div><div class="line">        <span class="comment">//you must install multiDex whatever tinker is installed!</span></div><div class="line">        MultiDex.install(base);</div><div class="line">        TinkerInstaller.install(<span class="keyword">this</span>);</div><div class="line">    &#125;</div></pre></td></tr></table></figure>
<p><strong>或者</strong>，我们可以直接将Sample工程中的文件（特别是Utils包下的）拷贝到我们自己的工程中，就像我一样，方便后期使用。比如SampleResultService、TinkerManager这几个类</p>
<p><img src="http://img.blog.csdn.net/20161117111013179" alt=""></p>
<p>然后重载onBaseContextAttached方法，可以向我写成下面这样</p>
<figure class="highlight java"><table><tr><td class="code"><pre><div class="line"><span class="meta">@Override</span></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onBaseContextAttached</span><span class="params">(Context base)</span> </span>&#123;</div><div class="line">        <span class="keyword">super</span>.onBaseContextAttached(base);</div><div class="line">        <span class="comment">//you must install multiDex whatever tinker is installed!</span></div><div class="line">        MultiDex.install(base);</div><div class="line"></div><div class="line">        MyApplicationContext.application = (MyApplication) getApplication();</div><div class="line">        MyApplicationContext.context = getApplication();</div><div class="line">        TinkerManager.setTinkerApplicationLike(<span class="keyword">this</span>);</div><div class="line">        TinkerManager.initFastCrashProtect();</div><div class="line">        <span class="comment">//should set before tinker is installed</span></div><div class="line">        TinkerManager.setUpgradeRetryEnable(<span class="keyword">true</span>);</div><div class="line"></div><div class="line">        <span class="comment">//optional set logIml, or you can use default debug log</span></div><div class="line">        TinkerInstaller.setLogIml(<span class="keyword">new</span> MyLogImp());</div><div class="line"></div><div class="line">        <span class="comment">//installTinker after load multiDex</span></div><div class="line">        <span class="comment">//or you can put com.tencent.tinker.** to main dex</span></div><div class="line">        TinkerManager.installTinker(<span class="keyword">this</span>);</div><div class="line">    &#125;</div></pre></td></tr></table></figure>
<p>至此，自定义Application，也就是将Application中的实现移动到SampleApplicationLike中已经完成。</p>
<h3 id="六、可以开始写测试patch的代码啦"><a href="#六、可以开始写测试patch的代码啦" class="headerlink" title="六、可以开始写测试patch的代码啦"></a><strong>六、可以开始写测试patch的代码啦</strong></h3><p>使用下面代码来load patch</p>
<figure class="highlight java"><table><tr><td class="code"><pre><div class="line">TinkerInstaller.onReceiveUpgradePatch(<span class="keyword">this</span>.getApplication(), Environment.getExternalStorageDirectory().getAbsolutePath() + <span class="string">"/patch_signed_7zip.apk"</span>);</div></pre></td></tr></table></figure>
<p>在自己的工程中增加两个按钮，其中一个按钮用来显示EditText中的内容，另一个按钮用来加载补丁，在加载补丁按钮点击事件中执行加载patch的操作，为后期修复代码bug做准备，代码为：<br><figure class="highlight java"><table><tr><td class="code"><pre><div class="line">Button toastInfo = (Button) top.findViewById(R.id.toastInfo);</div><div class="line">        toastInfo.setOnClickListener(<span class="keyword">new</span> View.OnClickListener() &#123;</div><div class="line">            <span class="meta">@Override</span></div><div class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onClick</span><span class="params">(View v)</span> </span>&#123;</div><div class="line">                <span class="comment">//清除补丁</span></div><div class="line">                Toast.makeText(SysUtils.getApp(),<span class="string">"clean patch!"</span>,Toast.LENGTH_LONG).show();</div><div class="line">                Tinker.with(SysUtils.getApp()).cleanPatch();</div><div class="line">            &#125;</div><div class="line">        &#125;);</div><div class="line">        Button loadPatchButton = (Button) top.findViewById(R.id.loadPatch);</div><div class="line">        loadPatchButton.setOnClickListener(<span class="keyword">new</span> View.OnClickListener() &#123;</div><div class="line">            <span class="meta">@Override</span></div><div class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onClick</span><span class="params">(View v)</span> </span>&#123;</div><div class="line">                <span class="comment">//加载补丁（加载成功以后patch文件会自动删掉）</span></div><div class="line">                TinkerInstaller.onReceiveUpgradePatch(SysUtils.getApp(), Environment.getExternalStorageDirectory().getAbsolutePath() + <span class="string">"/patch_signed_7zip.apk"</span>);</div><div class="line">            &#125;</div><div class="line">        &#125;);</div></pre></td></tr></table></figure></p>
<h2 id="打patch包的步骤"><a href="#打patch包的步骤" class="headerlink" title="打patch包的步骤"></a><strong>打patch包的步骤</strong></h2><p>1、调用<code>assembleDebug</code>编译原始包，AndroidStudio 命令行下运行</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">$ ./gradlew assembleDebug</div></pre></td></tr></table></figure>
<p>编译过的包会保存在build/bakApk中。然后我们将它安装到手机，可以看到补丁并没有加载。</p>
<p>2、我们需要修改build.gradle中的参数，将步骤一编译保存的安装包路径拷贝到<code>tinkerPatch</code>中的<code>tinkerOldApkPath</code>参数中，根据需要也得同时修改<code>tinkerApplyResourcePath</code> ，<code>tinkerApplyMappingPath</code> 。</p>
<figure class="highlight groovy"><table><tr><td class="code"><pre><div class="line"><span class="comment">/**</span></div><div class="line"> * you can use assembleRelease to build you base apk</div><div class="line"> * use tinkerPatchRelease -POLD_APK=  -PAPPLY_MAPPING=  -PAPPLY_RESOURCE= to build patch</div><div class="line"> * add apk from the build/bakApk</div><div class="line"> */</div><div class="line">ext &#123;</div><div class="line">    <span class="comment">//for some reason, you may want to ignore tinkerBuild, such as instant run debug build?</span></div><div class="line">    tinkerEnabled = <span class="literal">true</span></div><div class="line"></div><div class="line">    <span class="comment">//for normal build</span></div><div class="line">    <span class="comment">//old apk file to build patch apk</span></div><div class="line">    tinkerOldApkPath = <span class="string">"$&#123;bakPath&#125;/app-debug-1116-15-53-17.apk"</span></div><div class="line">    <span class="comment">//proguard mapping file to build patch apk</span></div><div class="line">    tinkerApplyMappingPath = <span class="string">"$&#123;bakPath&#125;/app-debug-1116-15-53-17-mapping.txt"</span></div><div class="line">    <span class="comment">//resource R.txt to build patch apk, must input if there is resource changed</span></div><div class="line">    tinkerApplyResourcePath = <span class="string">"$&#123;bakPath&#125;/app-debug-1116-15-53-17-R.txt"</span></div><div class="line"></div><div class="line">    <span class="comment">//only use for build all flavor, if not, just ignore this field</span></div><div class="line">    tinkerBuildFlavorDirectory = <span class="string">"$&#123;bakPath&#125;/app-debug-1107-10-33-32"</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>3、调用tinkerPatchDebug, 生成补丁包。补丁包与相关日志会保存在/build/outputs/tinkerPatch/。</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">$ ./gradlew tinkerPatchDebug</div></pre></td></tr></table></figure>
<p>然后我们将patch_signed_7zip.apk推送到手机的sdcard中。</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><div class="line">$ adb push ./app/build/outputs/tinkerPatch/debug/patch_signed_7zip.apk /storage/sdcard0/</div></pre></td></tr></table></figure>
<p>4、运行app，执行LOAD PATCH代码块, 如果看到<code>patch success, please restart process</code>的toast，即可锁屏或者KILL 应用进程</p>
<p>5、我们可以看到，补丁包的确已经加载成功了。</p>
<hr>
<h2 id="【参考资料】"><a href="#【参考资料】" class="headerlink" title="【参考资料】"></a>【参考资料】</h2><ul>
<li><a href="https://github.com/Tencent/tinker/wiki/Tinker-%E6%8E%A5%E5%85%A5%E6%8C%87%E5%8D%97">Tinker 官方接入指南</a> </li>
<li><a href="http://mp.weixin.qq.com/s?__biz=MzAwNDY1ODY2OQ==&amp;mid=2649286306&amp;idx=1&amp;sn=d6b2865e033a99de60b2d4314c6e0a25&amp;scene=23&amp;srcid=0705vd1zLzQEHZ9G6JyQSqTG#rd" target="_blank" rel="external">微信Android热补丁实践演进之路</a></li>
<li><a href="http://mp.weixin.qq.com/s?__biz=MzAwNDY1ODY2OQ==&amp;mid=2649286384&amp;idx=1&amp;sn=f1aff31d6a567674759be476bcd12549&amp;scene=4#wechat_redirect" target="_blank" rel="external">微信Tinker的一切都在这里，包括源码(一)</a></li>
<li><a href="https://zhuanlan.zhihu.com/p/22089905" target="_blank" rel="external">【腾讯Bugly干货分享】微信热补丁Tinker的实践演进之路</a></li>
<li><a href="http://blog.csdn.net/xiejc01/article/details/52735920" target="_blank" rel="external">将Tinke集成到自己的项目</a></li>
<li><a href="http://blog.csdn.net/a750457103/article/details/52815096" target="_blank" rel="external">Android 微信热修复Tinker接入过程以及使用方法</a></li>
<li><a href="https://www.zybuluo.com/dodola/note/554061" target="_blank" rel="external">Tinker 逆向分析</a></li>
</ul>

  	</div>
	  
	  <div class="article-tags tags">
		  
        <a class="tag-link" href="../../../../tags/Tinker/">Tinker</a><a class="tag-link" href="../../../../tags/hotfix/">hotfix</a>
      
	  </div>
	</section>
</article>



      <script>setLoadingBarProgress(60);</script>
    </main>
    
    <footer id="footer" class="clearfix">
  
  
	<div class="search">
	  <form name="searchform" id="searchform" class="u-search-form">
	    <input type="text" id="searchinput" class="u-search-input" placeholder="Looking for something?" />
	    <button type="submit" id="u-search-btn-submit" class="u-search-btn-submit">
	      <span class="icon icon-search"></span>
	    </button>
	  </form>
	</div>
	

	<div class="social-wrapper">
  	
      
        <a href="https://github.com/artchen" class="social github"
          target="_blank" rel="external">
          <span class="icon icon-github"></span>
        </a>
      
        <a href="https://twitter.com/otakism" class="social twitter"
          target="_blank" rel="external">
          <span class="icon icon-twitter"></span>
        </a>
      
        <a href="/atom.xml" class="social rss"
          target="_blank" rel="external">
          <span class="icon icon-rss"></span>
        </a>
      
        <a href="https://plus.google.com/+ArtChenOtakism/posts" class="social google"
          target="_blank" rel="external">
          <span class="icon icon-google"></span>
        </a>
      
        <a href="http://weibo.com/otakism/" class="social sina-weibo"
          target="_blank" rel="external">
          <span class="icon icon-sina-weibo"></span>
        </a>
      
    
  </div>
  
  <div>Theme <span class="codename">Typescript</span> designed by <a href="http://rakugaki.me/" target="_blank">Art Chen</a>.</div>
  <div>&copy; <a href="/">iTime</a></div>
  
</footer>


    <script>setLoadingBarProgress(80);</script>
    
  </div>

  
  

<script src="https://code.jquery.com/jquery-2.1.4.min.js"></script>
<script>window.jQuery || document.write('<script src="/js/jquery.min.js"><\/script>')</script>

<script src="../../../../js/jquery.fitvids.js"></script>
<script>
	var GOOGLE_CUSTOM_SEARCH_API_KEY = "";
	var GOOGLE_CUSTOM_SEARCH_ENGINE_ID = "";
	var ALGOLIA_API_KEY = "";
	var ALGOLIA_APP_ID = "";
	var ALGOLIA_INDEX_NAME = "";
  var AZURE_SERVICE_NAME = "";
  var AZURE_INDEX_NAME = "";
  var AZURE_QUERY_KEY = "";
  var BAIDU_API_ID = "";
  var SEARCH_SERVICE = "google";
</script>
<script src="../../../../js/search.js"></script>
<script src="../../../../js/app.js"></script>


  <script>setLoadingBarProgress(100);</script>
  
</body>
</html>
